html,
body {
 	margin: 0; padding: 0;
 	width: 100%; height: 100%;
}

/* apply a natural box layout model to all elements */
* { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }

body {
	font: 14px "Segoe UI", Helvetica, Arial, sans-serif;
	line-height: 1.4em;
	background: #eeeeee;
	color: #333333;
}

#playground-app {
	margin: 3%; margin-top: 0;
	padding: 10px 20px;

	background: white;
	box-shadow: rgba(0, 0, 0, 0.2) 0 2px 6px 0;
	border-radius: 0 0 5px 5px;
}

.flexbox #playground-app {

	position: absolute;
	top: 0; bottom: 0; left: 0; right: 0;
	display: -webkit-flex;
	display: flex;
	-webkit-flex-direction: column;
	flex-direction: column;
}

.flexbox .mainContent {
	/* should grow itself */
	-webkit-flex: 1;
	flex: 1;

	/* flexbox for children */
	display: -webkit-flex; /* Chrome uses new (2012) spec draft */
	display: flex;
	-webkit-flex-direction: row;
	flex-direction: row;
}

/* main map container */
#mapView {
	margin: 10px 0;
	height: 760px;
	border: 1px solid #eef;
}

.flexbox #mapView {
	-webkit-flex: 1;
	flex: 1;
	height: auto; /* override default fixed height */
	min-height: 0;
}

/* general styles */

ul { list-style: none; }
.clearfix {clear: both; margin: 0; }
html.wait, html.wait * { cursor: wait; }

button {
	display: inline-block;
	padding: 2px 10px;
	font-size: 0.9em;
	vertical-align: top;
	text-decoration: none;
	color: rgb(95,95,95);
	background-color: rgba(190,190,190,0.6);
	border: 1px solid rgb(175,175,175);
	border-radius: 3px;
	box-shadow: rgba(0,0,0,0.1) 0 1px 3px 0,
				inset rgba(255,255,255,0.8) 0 1px 1px 0;
	text-shadow: 0 1px 0 rgba(255,255,255,0.8);
}
/* buttons in InfoView */
button.translucent {
	border-color: rgba(145,145,145,0.7);
	background-color: rgba(0,0,0,0.1);
}
button.tiny {
	font-size: 80%;
	line-height: 14px;
	margin: 0;
	padding: 1px 4px;
}
button.symbolic {
	font-size: 16px;
	font-family: "Segoe UI Symbol", Arial, sans-serif;
}

/* various button states */
button[disabled] {
	opacity: 0.5;
}
button:not([disabled]) {
	cursor: pointer;
}

button:not([disabled]):hover {
	background-color: rgba(200,200,200,0.4);
}
button:not([disabled]):active {
	box-shadow: inset 0 1px 3px rgb(180,180,180),
				inset 0 -1px 1px rgba(235, 235, 235, 0.9);
}

/* center an element (see http://zerosixthree.se/vertical-align-anything-with-just-3-lines-of-css/) */
.centered {
	position: relative;
	left: 50%;
	top: 50%;
	-webkit-transform: translate(-50%, -50%);
	transform: translate(-50%, -50%);
}

/* a transient popup box, for e.g. settings input or data display */
.dialog {
	position: fixed;
	display: flex; flex-direction: column;
	padding: 1em;
	background: white;
	border: 1px solid rgba(120, 120, 120, .8);
	border-radius: 5px;
	box-shadow: rgba(0, 0, 0, 0.2) 0 2px 6px 0;
}
.dialog h3 { margin-top: 0 }
.dialog .content { flex: 1; }

/* Top controls */

#mainToolbar {
	position: relative;
}
#fileForm,
#searchView {
	display: inline-block;
}
#mainToolbar .right {
	position: absolute;
	top: 0; right: 0;
}

#searchHelp {
	position: relative;
	padding: 0.5em;
	z-index: 100;
	background-color: rgba(250, 250, 255, 0.9);
	border: 1px solid lightgrey;
	border-radius: 5px;
	box-shadow: rgba(0, 0, 0, 0.2) 0 2px 6px 0,
				inset rgb(241, 247, 236) 0 1px 0 0;
}

#searchHelp ul { margin: 1ex; padding: 0; }
#searchHelp ul b { font-family: Consolas, "Courier New", monospace; }

/* Map View */

.mapMessage p {
	text-align: center;
	font-size: 120%;
	text-shadow: 0 2px 4px #bbbbbb;
}

/* Settings */

#settings ul {
	/* slimmer than default ul */
	margin: 1ex; padding: 0;
}
#settings ul li {
	/* horizontal layout for checkboxes */
	display: inline-block;
	margin: 0 1ex;
}

#selectMarkerColorsAttribute {
	margin-left: 10px;
	min-width: 14em;
}

#settingsdialog .dialog {
	width: 26em;
	height: 13em;
}
#settingsdialog ul { display: table; width: 100%; padding: 0; }
#settingsdialog li { display: table-row; }
#settingsdialog li label { display: table-cell; }
#settingsdialog input[type="number"] { width: 10ex; }

/* Overlays on top of map */

.mapcontrols {
	margin: 0; /* reduce margin from UL default */
	padding: 0 20px;
	background: white;
	border-radius: 5px;
	box-shadow: rgb(100,100,100) 0 0 8px;
}
.mapbutton {
	cursor: pointer;
	-webkit-user-select: none;
	-moz-user-select: -moz-none;
	-ms-user-select: none;
	user-select: none;
}
.mapcontrols.top { margin-top: 6px; }
.mapcontrols.bottom { margin-bottom: 6px; }
.mapbutton.left { margin-left: 5px; }

#zoomBoundsBtn { margin-top: -8px; }

/* Legend */

.legend {
	font-size: 80%;
	padding-bottom: 2px;
}
.legendItem {
	margin: 2px;
	display: inline-block;
	opacity: 1;
}

.legendItem.unavailable,
.legendItem.markerOff {
	opacity: 0.5;
}

.legendItem span {
	vertical-align: middle;
}

.legendItem .colorswatch {
	display: inline-block;
	margin: 0 5px;
	border-radius: 2.5px;
	width: 30px;
	height: 2.5ex;
}

.legendItem .colorscale {
	width: 150px;
	border: 1px solid rgba(120, 120, 120, .8);
	background-color: rgba(220, 220, 220, 0.8);
}

/* filter bar UL */
#filters {
	font-size: 1.1em;
	background-color: #FFFFB9;
}

.filterItem a {
	font-weight: bold;
	text-decoration: underline;
}

/* Session Info Display */

#infoView {
	position: relative;
	min-height: 6em;
	margin: 10px 0;
	padding: 8px;
	overflow: auto;
	border: 1px solid rgba(152, 180, 152, .8);
	border-radius: 5px;
	background: -webkit-linear-gradient(top, rgba(226, 236, 217, 0.8) 5%, rgba(202, 221, 183, 0.8) 100%);
	background: linear-gradient(to bottom, rgba(226, 236, 217, 0.8) 5%, rgba(202, 221, 183, 0.8) 100%);
	background-color: rgba(202, 221, 183, 0.8);
	box-shadow: rgba(0, 0, 0, 0.2) 0 2px 6px 0, inset rgb(241, 247, 236) 0 1px 0 0;
}

.etched {
	color: rgb(152, 180, 152);
	text-shadow: rgb(255, 255, 255) 0 1px 1px;
	font-weight: normal;
}

#infoView .caption {
	font-size: 1.1em;
	margin: 0 3px;
}
#infoView .toolbar {
	margin: 0.5em 0;
}

.infoBlock {
	margin: 0 10px;
}

#infoView output h3 {
	margin: 0 0 3px 0;
	font-size: 1em;
}

.propertyList {
	font-family: Consolas, "Courier New", Courier, monospace;
	margin: 0; padding: 0;
}
.propertyList .label {
	font-weight: bold;
}
.propertyList .value {
	font-size: 0.9em;
}
.propertyList .value.small {
	font-size: 0.8em;
}

.propertyList .fileitem,
.propertyList .sectoritem {
	font-size: .9em;
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
	padding-left: 5px;
}

/* emphasize a sector in the list */
.sectoritem.highlighted { font-weight: bold; font-style: italic; }

/* per-sector result filter buttons */
.sectoritem > .filterButton { display: none; }
.sectoritem:hover > .filterButton { display: inline-block; }

.flexboxlegacy .fileitem {
	max-width: 22em; /* Firefox doesn't enforce container's max-width for some reason :-( */
}

button.lookup-cell,       button.filterByElement       { background-color: rgba(230, 180, 23, 0.2); }
button.lookup-cell:hover, button.filterByElement:hover { background-color: rgba(247, 216, 119, 0.4); }
button.lookup-ref-cell,       button.filterByRefcell       { background-color: rgba(132, 230, 23, 0.2); }
button.lookup-ref-cell:hover, button.filterByRefcell:hover { background-color: rgba(163, 255, 61, 0.4); }


/* UI should not be selectable */

header, footer, #mapView, #mapLegend, #settings, #mainToolbar, #filterBar, .toolbar {
	-webkit-user-select: none;
	-moz-user-select: -moz-none;
	-ms-user-select: none;
	user-select: none;
}

.veilBackground {
	position: absolute;
	top: 0; right: 0; bottom: 0; left: 0;
	background: rgba(30, 30, 30, 0.2);
	font-weight: bold;
	color: white; text-shadow: 0 2px 3px rgb(70, 70, 70);
	text-align: center;
}

#fileDropVeil .dropText {
	font-size: 150%;
	position: fixed;
	left: 50%;
	top: 50%;
	margin: 0 auto;
	margin-left: -webkit-calc(-10% / 2);
	margin-left: -moz-calc(-10% / 2);
	margin-left: calc(-10% / 2);
	margin-top: -webkit-calc(-10% / 2);
	margin-top: -moz-calc(-10% / 2);
	margin-top: calc(-10% / 2);
}

/* transparent div covering the drop text */
#fileDropZone {
	position: absolute;
	top: 0; right: 0; bottom: 0; left: 0;
	z-index: 100;
}

/* Expand layout for widescreen displays */

@media screen and (min-width: 1000px) {
	.flexboxlegacy:not(.flexbox) .mainContent {
		display: -moz-box; /* Firefox uses previous (2009) draft */
		width: 100%; /* necessary for Firefox <18, otherwise the box is "deflated" */
	}
	.flexbox .mainContent {
		display: -webkit-flex; /* Chrome uses new (2012) spec draft */
		display: flex;
	}

	#mapView {
		margin-right: 10px;
	}
	.flexboxlegacy #mapView {
		-moz-box-flex: 1;
	}
	.flexbox #mapView {
		-webkit-flex: 1;
		flex: 1;
	}
	#infoView {
		width: 350px;
		margin-left: 10px;
	}
	.infoBlock {
		margin: 10px;
	}
	#infoView .caption, #infoView output h3 {
		text-align: center;
	}
}

/* InfoView LCD layout for narrow screens */

@media screen and (max-width: 1000px) {

	.flexbox .mainContent {
		/* switch direction */
		-webkit-flex-direction: column;
		flex-direction: column;
	}

	#infoView {
		display: -webkit-flex;
		display: -moz-box; /* Fx 17*/
		display: flex;
		width: 100%;
		max-height: 200px; /* height can get excessive with many listed files */
	}
	.infoBlock {
		-moz-box-flex: 1;
		font-size: .9em;
		line-height: 1.1em;
		max-width: 20em;
	}
	.flexbox .infoBlock {
		-webkit-flex: 1;
		flex: 1;
	}

	#infoView .caption {
		position: absolute;
		right: 1em;
	}
}

/* some final words about "display:", to override "block" or "inline-block" */
.invisible { visibility: hidden; }
.hidden { display: none; }
.clickable:not([disabled]) { cursor: pointer; }
